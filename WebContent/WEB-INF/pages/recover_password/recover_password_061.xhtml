<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:arrow="http://arrow-tech.vn/arrow" xmlns:ar="http://java.sun.com/jsf/composite/compositeComponent" xmlns:o="http://omnifaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
	
	<p:panel header="#{messages.reset_password}">
	<h:form id="formRecoverPassword">
	<ui:fragment rendered="#{!recoverPasswordBean.redirectHome}">
			<table>
				<tr>
					<td>#{messages.new_password}</td>
					<td>
					<p:password id="new_password" redisplay="true" label="#{messages.new_password}" value="#{recoverPasswordBean.newPassword}"
						promptLabel="#{messages.please_input_the_password}" weakLabel="#{messages.weak}" maxlength="10"
                  			goodLabel="#{messages.good}" strongLabel="#{messages.strong}" validator="#{recoverPasswordBean.validateNewPassword}"
						required="true" feedback="true" requiredMessage="#{messages.new_pass_is_required}">
						<p:ajax event="change" process="@this" update="@this, :growl" resetValues="true"/>
					</p:password>
					</td>
				</tr>
				<tr>
				<td>#{messages.confirm_new_password}</td>
				<td>
							<p:password id="renew_password" label="#{messages.confirm_new_password}" value="#{recoverPasswordBean.reNewPassword}"
								validator="#{recoverPasswordBean.validateRecoverPasswordConfirm}" redisplay="true" 
								required="true" requiredMessage="#{messages.renew_pass_must_same}">
								<p:ajax event="change" process="@this" update="@this, :growl" resetValues="true"/>
							</p:password>
					</td>
				</tr>
				<tr>
					<td>
						<p:commandButton action="#{recoverPasswordBean.resettingPassword}" onstart="PF('globalBlockUI_js').block()" oncomplete="PF('globalBlockUI_js').unblock()" value="#{messages.ok}" process="@form" update="@all" icon="ui-icon-disk"/>
					</td>
				</tr>
			</table>
			</ui:fragment>
			<ui:fragment rendered="#{recoverPasswordBean.redirectHome}">
				<p:commandButton action="#{screenBean.switchToHome}" onstart="PF('globalBlockUI_js').block()" oncomplete="PF('globalBlockUI_js').unblock()" value="#{messages.goto_login_form}" process="@this" update="@all"  icon="ui-icon-circle-arrow-e"/>
			</ui:fragment>
	</h:form>
	</p:panel>
</ui:composition>